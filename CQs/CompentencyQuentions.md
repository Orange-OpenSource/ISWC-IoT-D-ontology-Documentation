| CQ                                                                      | SPARQL Query                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| What are IoT devices present in the managed IoT system?                 | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> SELECT ?subject 	WHERE { ?subject a iotd:IoTDevice }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| What are connectivity devices present in the managed IoT system?        | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> SELECT ?subject 	WHERE { ?subject a iotd:ConnectivityDevice }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| What are IoT applications present in the managed IoT system?            | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> SELECT ?subject 	WHERE { ?subject a iotd:Application }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| What are the services provided by a given device?                       | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> SELECT ?service 	WHERE {       ?service a core:Service .                                   ?device a iotd:IoTDevice;                                               core:offers ?service. FILTER(?device=<URI>)  }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| What are the services consumed by a given device?                       | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> SELECT ?service 	WHERE {       ?service a core:Service .                                   ?device a iotd:IoTDevice;                                                    iotd:consumes ?service. FILTER(?device=<URI>)  }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| What are automation rules implemented in a given IoT application?       | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> SELECT ?rule 	WHERE { ?application a iotd:Application .                            ?application iotd:hasRule ?rule. FILTER(?application=<URI>)  }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| What are the triggers of a given automation rule?                       | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> SELECT ?triggers 	WHERE { ?triggers a iotd:Trigger .                            ?rule a iotd:Rule.                            ?rule eupont:hasTrigger ?triggers. FILTER(?rule=<URI>) }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Which IoT device state is involved in a given trigger?                  | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> SELECT ?state 	WHERE { ?trigger a iotd:Trigger .                             ?state a core:State.                            ?trigger iotd:relatedTo ?state. FILTER(?trigger=<URI>) }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| what are device actions associated with a given automation rule?        | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> SELECT ?actions 	WHERE { ?actions a iotd:Action .                            ?rule a iotd:Rule.                            ?rule eupont:hasAction ?actions. FILTER(?rule=<URI>) }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| what are device actions associated with a given IoT application?        | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> SELECT ?actions 	WHERE { ?actions a iotd:Action .                            ?application a iotd:Application.                            ?application iotd:hasApplicationAction ?actions. FILTER(?application=<URI>) }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| What are data flows circulating between in a given IoT application?     | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> SELECT ?dataFlow ?deviceFrom ?deviceTo                        WHERE {      ?dataFlow a dk:DataFlow .                            ?deviceTo a iotd:IoTDevice.                            ?deviceFrom a iotd:IoTDevice.                           ?deviceTo core:offers ?service01.                            ?deviceFrom core:offers ?service02.                            ?service01 iotd:allowsAction ?action01.                             ?service02 iotd:allowsAction ?actions02.                             ?dataFlow dk:flowsFrom  ?action01.                              ?dataFlow dk:flowsTo  ?action02.                            ?application iotd:hasApplicationAction ?action01.                            ?application iotd:hasApplicationAction ?action02. FILTER(?application=<URI>) } |
| What are IoT devices connected to a given connectivity device?          | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> SELECT ?devices 	WHERE { ?devices a iotd:IoTDevice .                            ?connectivityDevice a iotd:ConnectivityDevice.                             ?connectivityDevice core:offers ?connectivityService.                            ?devices iotd:consumes ?connectivityService. FILTER(?connectivityDevice=<URI>) }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| What are the connectivity services of a given connectivity device?      | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> SELECT ?connectivityServices 	WHERE {                             ?connectivityDevice a iotd:ConnectivityDevice.                             ?connectivityDevice core:offers ?connectivityServices.           FILTER(?connectivityDevice=<URI>) }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| How do access IoT application rules?                                    | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> PREFIX td:	<https://www.w3.org/2019/wot/td#> . PREFIX hctl:	<https://www.w3.org/2019/wot/hypermedia#> .  SELECT ?connectivityServices 	WHERE {                             ?connectivityDevice a iotd:ConnectivityDevice.                             ?connectivityDevice core:offers ?connectivityServices.    FILTER(?connectivityDevice=<URI>) }                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| How do access IoT application action?                                   | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> PREFIX td:	<https://www.w3.org/2019/wot/td#> . PREFIX hctl:	<https://www.w3.org/2019/wot/hypermedia#> . SELECT ?uri ?contentType 	WHERE {                             ?propertyAffordance a td:PropertyAfforance.                             ?application a iotd:Application;                               td:hasPropertyAffordance ?propertyAffordance.                                   ?form  a hctl:Form.                             ?propertyAffordance hctl:hasForm ?form.                              ?form hctl:hasTarget ?uri.                               ?form hctl:forContentType ?contentType.                           FILTER(?application=<URI>) }                                                                                                                                      |
| What are the device dependencies present in the connected environment?  | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> SELECT * 	WHERE {  {?s iotd:hasServiceDependency ?o} UNION {?s iotd:hasStateDependencyTo ?o} UNION {?s iotd:hasEnvironmentDependencyTo ?o} UNION {?s iotd:hasConnectivityDependency ?o} UNION {?s iotd:hasImplicitServiceDependencyTo ?o} }                 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| What are IoT devices  dependent on a given  IoT device?                 | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> SELECT * WHERE {  {?device iotd:hasServiceDependency ?givenDevice} UNION {?device iotd:hasStateDependencyTo ?givenDevice} UNION {?device iotd:hasEnvironmentDependencyTo ?givenDevice} UNION {?device iotd:hasConnectivityDependency ?givenDevice} UNION {?device iotd:hasImplicitServiceDependencyTo ?givenDevice}                       FILTER(?givenDevice=<URI>)          }                                                                                                                                                                                                                                                                                                                                                                                                                             |
| What are IoT devices application-dependent on a given  IoT device?      | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> SELECT * WHERE {    {?device iotd:hasStateDependencyTo ?givenDevice} UNION {?device iotd:hasImplicitServiceDependencyTo ?givenDevice}              FILTER(?givenDevice=<URI>)          }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| What is the connectivity topology of a given connected environment?     | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> SELECT * WHERE {   ?s iotd:hasConnectivityDependency ?o              }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| To which IoT application a given application-dependency is related?     | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> SELECT ?application WHERE {    ?application a iotd:Application.                       ?application iotd:hasApplicationRule ?rule.                       ?rule  iotd:hasTrigger ?trigger.                       ?rule iotd:hasAction ?action.                        ?trigger iotd:relatedTo ?state .                        ?service iotd:allowsAction ?action.                        <URI1> core:offers ?service.                        <URI2>  core:hasState ?state.                        <URI1> iotd:hasStateDependencyTo <URI2>.        }                                                                                                                                                                                                                                                           |
| How to access the services provided by a given device?                  | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> PREFIX td:	<https://www.w3.org/2019/wot/td#> . PREFIX hctl:	<https://www.w3.org/2019/wot/hypermedia#> . SELECT ?uri ?contentType 	WHERE {                             ?propertyAffordance a td:PropertyAfforance.                             ?application a iotd:IoTDevice;                               td:hasPropertyAffordance ?propertyAffordance.                                   ?form  a hctl:Form.                             ?propertyAffordance hctl:hasForm ?form.                              ?form hctl:hasTarget ?uri.                               ?form hctl:forContentType ?contentType.                           FILTER(?IoTDevice=<URI>) }                                                                                                                                          |
| How to access the connectivity topology of a given connectivity device? | PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX iotd: <https://w3id.org/iotd#> PREFIX core: <https://saref.etsi.org/core/> PREFIX eupont: <http://elite.polito.it/ontologies/eupont.owl#> PREFIX td:	<https://www.w3.org/2019/wot/td#> . PREFIX hctl:	<https://www.w3.org/2019/wot/hypermedia#> . SELECT ?uri ?contentType 	WHERE {                             ?propertyAffordance a td:PropertyAfforance.                             ?connectivityDevice a iotd:ConnectivityDevice;                               td:hasPropertyAffordance ?propertyAffordance.                                   ?form  a hctl:Form.                             ?propertyAffordance hctl:hasForm ?form.                              ?form hctl:hasTarget ?uri.                               ?form hctl:forContentType ?contentType.                           FILTER(?connectivityDevice=<URI>) }                                                                                                                 |
